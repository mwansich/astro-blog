---
import Social from './Social.astro';
import PostStats from './PostStats.astro';
import astroLogo from '../assets/astro.svg'
import astroLogoWhite from '../assets/astro_white.svg'
---
<footer>
  <div id="links">
    <p class="footerlinks"><Social tld="com" platform="github" username="mwansich" /><a href="/rss.xml"><img src="/rss.png" alt="RSS Logo" width="21px" height="21px"> subscribe</a></p>
    <PostStats />
  </div>
  <div class="imprint">
    <p>&copy; 2025 / All rights reserved.</p>
    <p style="margin-top: 1rem;">Built with </p>
    <p><a href="https://astro.build" target="_blank" rel="noopener"><img class="logo" src={astroLogo.src} alt="Astro Logo" loading="lazy"/></a></p>
  </div>
</footer>

<style>
  
  footer {
    margin-top: auto;
  }

  #links {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

</style>

<script is:inline define:vars={{ lightLogo: astroLogo.src, darkLogo: astroLogoWhite.src }}>  
  function updateLogo() {
    const img = document.querySelector('.logo');
    if (!img) return;
    
    const isDark = document.documentElement.classList.contains('dark');
    img.src = isDark ? darkLogo : lightLogo;
  }

  // Run immediately
  updateLogo();

  // Watch for theme changes
  const observer = new MutationObserver(updateLogo);
  observer.observe(document.documentElement, { 
    attributes: true, 
    attributeFilter: ['class'] 
  });
  // script generated by claude.ai
</script>